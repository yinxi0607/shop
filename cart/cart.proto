syntax = "proto3";

package cart;

option go_package = "./cart";

message CartItem {
  string Pid = 1; // 修改为 Pid
  int32 Quantity = 2;
}

message AddToCartRequest {
  string UserId = 1;
  string Pid = 2; // 修改为 Pid
  int32 Quantity = 3;
}

message AddToCartResponse {
  bool Success = 1;
}

message GetCartRequest {
  string UserId = 1;
}

message GetCartResponse {
  string CartId = 1;
  repeated CartItem Items = 2;
}

message UpdateCartRequest {
  string UserId = 1;
  string Pid = 2; // 修改为 Pid
  int32 Quantity = 3;
}

message UpdateCartResponse {
  bool Success = 1;
}

message ClearCartRequest {
  string UserId = 1;
}

message ClearCartResponse {
  bool Success = 1;
}

service CartRpc {
  rpc AddToCart(AddToCartRequest) returns (AddToCartResponse);
  rpc GetCart(GetCartRequest) returns (GetCartResponse);
  rpc UpdateCart(UpdateCartRequest) returns (UpdateCartResponse);
  rpc ClearCart(ClearCartRequest) returns (ClearCartResponse);
}